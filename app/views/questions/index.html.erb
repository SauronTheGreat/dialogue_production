<div class="container">

  <div class="sub_container_header" style="background-image: none;border:none;">
    <h2>Questions for  <%= @questionnaire.name %></h2>

  </div>


  <div class="sub_container_base">
    <p id="notice"><%= params[:notice] %></p>

    <h1>Listing questions</h1>

    <table>
      <tr>
        <th>Statement</th>

        <th>Type</th>

        <th>Answer</th>
        <th colspan="3">Links</th>
        <th colspan="2">Information</th>


      </tr>

      <% @questions.each do |question| %>
          <tr>
            <td><%= question.statement %></td>

            <td><%= Type.find(question.type_id).name %></td>

            <td><%= question.answer %></td>
            <td><%= link_to 'Show', question %></td>
            <td><%= link_to 'Edit', edit_question_path(question) %></td>
            <td><%= link_to 'Destroy', question, :confirm => 'Are you sure?', :method => :delete %></td>
            <% if question.type_id != 3 && question.options.count==0 %>
                <td colspan="2"><%= link_to 'Add Option', :controller => :options, :action => 'new', :qid=>question.id %></td>
                <% else %>
                <td>You have <%= question.options.count %> options</td>
                <td><%= link_to 'Show all Options', :controller => :options, :action => 'index', :qid=>question.id %></td>
            <% end %>
          </tr>
      <% end %>
    </table>

    <br/>

    <%= link_to 'Back to Questionnaire Index', :controller => :questionnaires,:action => 'index' %>
  </div>
</div>
